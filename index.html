<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriHub Ultra</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Modern Color Scheme */
        :root {
            /* Light Mode */
            --primary: #09582a; /* Vibrant green */
            --primary-dark: #009624;
            --primary-light: #0e5b20;
            --secondary: #00B0FF; /* Bright blue */
            --accent: #FFD600; /* Golden yellow */
            --text: #212121;
            --text-secondary: #757575;
            --background: #FAFAFA;
            --surface: #FFFFFF;
            --error: #FF3D00;
            --success: #00C853;
            --warning: #FF9100;
            --divider: #E0E0E0;
            --shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
            --shadow-hover: 0 14px 28px rgba(0,0,0,0.12), 0 10px 10px rgba(0,0,0,0.10);
            --card-radius: 16px;
            --element-radius: 12px;
            --nav-height: 70px;
            --status-bar-height: 24px;
            --safe-area-top: env(safe-area-inset-top, 0px);
            --safe-area-bottom: env(safe-area-inset-bottom, 0px);
        }

         /* Dark Mode */
         @media (prefers-color-scheme: dark) {
            :root {
                --primary: #00E676;
                --primary-dark: #00C853;
                --primary-light: #66FFA6;
                --secondary: #40C4FF;
                --accent: #FFEA00;
                --text: #E0E0E0;
                --text-secondary: #9E9E9E;
                --background: #121212;
                --surface: #1E1E1E;
                --divider: #424242;
                --shadow: 0 1px 3px rgba(0,0,0,0.5), 0 1px 2px rgba(0,0,0,0.3);
                --shadow-hover: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);
            }
        }



        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
            -webkit-text-size-adjust: 100%;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--background);
            color: var(--text);
            line-height: 1.5;
            overscroll-behavior-y: contain;
            padding-bottom: calc(var(--nav-height) + var(--safe-area-bottom));
            min-height: 100vh;
        }

        /* App Container */
        .app-container {
            max-width: 500px;
            margin: 0 auto;
            position: relative;
            background-color: var(--background);
            min-height: 100vh;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            overflow-x: hidden;
        }

        /* Header */
        .app-header {
            position: sticky;
            top: var(--status-bar-height);
            left: 0;
            width: 100%;
            background-color: var(--primary);
            color: white;
            padding: 15px 20px;
            z-index: 900;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
        }

        .header-title {
            font-size: 1.4rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .header-actions {
            display: flex;
            gap: 15px;
        }

        .header-icon {
            font-size: 1.2rem;
            cursor: pointer;
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: var(--nav-height);
            background-color: var(--surface);
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding-bottom: var(--safe-area-bottom);
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 800;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            color: var(--text-secondary);
            font-size: 0.7rem;
            flex: 1;
            height: 100%;
            transition: all 0.2s ease;
        }

        .nav-item i {
            font-size: 1.4rem;
            margin-bottom: 4px;
            transition: all 0.2s ease;
        }

        .nav-item.active {
            color: var(--primary);
        }

        .nav-item.active i {
            transform: translateY(-5px);
        }

        .nav-item-badge {
            position: absolute;
            top: 5px;
            right: 15px;
            background-color: var(--error);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.6rem;
            font-weight: bold;
        }

        /* Page System */
        .page {
            padding:0 5px;
            display: none;
            animation: fadeIn 0.3s ease-out;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Home Page - Stunning Design */
        #home {
            padding-top: 20px;
        }

        .welcome-card {
            padding: 70px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border-radius: var(--card-radius);
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .welcome-card::before {
            content: '';
            position: absolute;
            top: -50px;
            right: -50px;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            border-radius: 50%;
        }

        .welcome-card h2 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .welcome-card p {
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .weather-widget {
            background-color: var(--surface);
            border-radius: var(--card-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
        }

        .weather-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .weather-location {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .weather-location i {
            color: var(--secondary);
        }

        .weather-current {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .weather-temp {
            font-size: 3.5rem;
            font-weight: 300;
            line-height: 1;
        }

        .weather-icon {
            font-size: 3rem;
            color: var(--accent);
        }

        .weather-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .weather-detail {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .weather-detail i {
            font-size: 1.2rem;
            margin-bottom: 5px;
            color: var(--secondary);
        }

        .weather-detail-value {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .weather-detail-label {
            font-size: 0.7rem;
            color: var(--text-secondary);
            margin-top: 2px;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .quick-action {
            background-color: var(--surface);
            border-radius: var(--element-radius);
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.2s ease;
        }

        .quick-action:active {
            transform: scale(0.98);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .quick-action i {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .quick-action h3 {
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .quick-action p {
            font-size: 0.7rem;
            color: var(--text-secondary);
        }

        .crop-health {
            background-color: var(--surface);
            border-radius: var(--card-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .see-all {
            font-size: 0.8rem;
            color: var(--primary);
            text-decoration: none;
        }

        .health-cards {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding-bottom: 10px;
            scrollbar-width: none; /* Firefox */
        }

        .health-cards::-webkit-scrollbar {
            display: none; /* Chrome/Safari */
        }

        .health-card {
            min-width: 150px;
            background-color: var(--background);
            border-radius: var(--element-radius);
            padding: 15px;
            display: flex;
            flex-direction: column;
        }

        .health-card-image {
            width: 100%;
            height: 100px;
            background-color: var(--divider);
            border-radius: 8px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .health-card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .health-card-status {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 5px;
        }

        .status-indicator.healthy {
            background-color: var(--success);
        }

        .status-indicator.warning {
            background-color: var(--warning);
        }

        .status-indicator.danger {
            background-color: var(--error);
        }

        .health-card-title {
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 3px;
        }

        .health-card-desc {
            font-size: 0.7rem;
            color: var(--text-secondary);
        }

        /* Advisory Page */
        .advisory-tabs {
            display: flex;
            border-bottom: 1px solid var(--divider);
            margin-bottom: 20px;
        }

        .advisory-tab {
            padding: 10px 15px;
            font-size: 0.9rem;
            color: var(--text-secondary);
            border-bottom: 2px solid transparent;
            cursor: pointer;
        }

        .advisory-tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
            font-weight: 500;
        }

        .search-bar {
            display: flex;
            background-color: var(--surface);
            border-radius: var(--element-radius);
            padding: 10px 15px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .search-bar i {
            color: var(--text-secondary);
            margin-right: 10px;
        }

        .search-bar input {
            flex: 1;
            border: none;
            background: transparent;
            color: var(--text);
            font-size: 0.9rem;
        }

        .search-bar input::placeholder {
            color: var(--text-secondary);
        }

        .topic-cards {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .topic-card {
            background-color: var(--surface);
            border-radius: var(--element-radius);
            padding: 15px;
            box-shadow: var(--shadow);
            transition: all 0.2s ease;
        }

        .topic-card:active {
            transform: scale(0.98);
        }

        .topic-card i {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .topic-card h3 {
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .topic-card p {
            font-size: 0.7rem;
            color: var(--text-secondary);
        }

        /* Chat Page - iPhone Messages Style */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - var(--nav-height) - var(--status-bar-height) - 60px);
            padding-bottom: 20px;
        }

        .chat-header {
            display: flex;
            align-items: center;
            padding: 15px 0;
            margin-bottom: 10px;
            border-bottom: 1px solid var(--divider);
        }

        .chat-back {
            margin-right: 15px;
            font-size: 1.2rem;
            color: var(--primary);
        }

        .chat-partner {
            display: flex;
            align-items: center;
            flex: 1;
        }

        .chat-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 10px;
        }

        .chat-name {
            font-weight: 500;
        }

        .chat-status {
            font-size: 0.7rem;
            color: var(--text-secondary);
            margin-top: 2px;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 10px 0;
            scrollbar-width: none;
        }

        .chat-messages::-webkit-scrollbar {
            display: none;
        }

        .message {
            display: flex;
            margin-bottom: 15px;
            animation: fadeIn 0.2s ease-out;
        }

        .message.received {
            justify-content: flex-start;
        }

        .message.sent {
            justify-content: flex-end;
        }

        .message-bubble {
            max-width: 75%;
            padding: 12px 15px;
            border-radius: 18px;
            line-height: 1.4;
            position: relative;
            word-wrap: break-word;
        }

        .message.received .message-bubble {
            background-color: var(--surface);
            border-bottom-left-radius: 4px;
            color: var(--text);
        }

        .message.sent .message-bubble {
            background-color: var(--primary);
            border-bottom-right-radius: 4px;
            color: white;
        }

        .message-time {
            font-size: 0.7rem;
            color: var(--text-secondary);
            margin-top: 5px;
            text-align: right;
        }

        .message.sent .message-time {
            color: rgba(255,255,255,0.7);
        }

        .chat-input-container {
            display: flex;
            align-items: center;
            background-color: var(--surface);
            border-radius: 20px;
            padding: 8px 15px;
            margin-top: 10px;
            box-shadow: var(--shadow);
        }

        .chat-input {
            flex: 1;
            border: none;
            background: transparent;
            color: var(--text);
            font-size: 0.9rem;
            padding: 8px 0;
            max-height: 120px;
            resize: none;
        }

        .chat-input::placeholder {
            color: var(--text-secondary);
        }

        .chat-send {
            margin-left: 10px;
            color: var(--primary);
            font-size: 1.2rem;
            cursor: pointer;
        }

        .chat-options {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .chat-option {
            display: flex;
            align-items: center;
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        .chat-option i {
            margin-right: 5px;
        }

        /* Detection Page */
        .detection-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 0;
        }

        .upload-container {
            width: 100%;
            max-width: 400px;
            margin-bottom: 30px;
        }

        .upload-card {
            background-color: var(--surface);
            border-radius: var(--card-radius);
            padding: 25px;
            box-shadow: var(--shadow);
            text-align: center;
        }

        .upload-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .upload-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .upload-desc {
            color: var(--text-secondary);
            margin-bottom: 20px;
            font-size: 0.9rem;
        }

        .upload-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: var(--element-radius);
            padding: 12px 25px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: var(--shadow);
        }

        .upload-btn:active {
            transform: scale(0.98);
            background-color: var(--primary-dark);
        }

        .preview-container {
            width: 100%;
            margin-top: 20px;
            display: none;
        }

        .preview-image {
            width: 100%;
            max-height: 300px;
            border-radius: var(--element-radius);
            object-fit: cover;
            box-shadow: var(--shadow);
        }

        .analyze-btn {
            margin-top: 20px;
            width: 100%;
        }

        .result-container {
            width: 100%;
            max-width: 400px;
            display: none;
        }

        .result-card {
            background-color: var(--surface);
            border-radius: var(--card-radius);
            padding: 20px;
            box-shadow: var(--shadow);
        }

        .result-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .result-icon {
            font-size: 1.5rem;
            color: var(--primary);
            margin-right: 10px;
        }

        .result-title {
            font-size: 1.1rem;
            font-weight: 500;
        }

        .result-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--divider);
        }

        .result-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .result-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }

        .result-value {
            font-size: 0.9rem;
        }

        .result-treatment {
            background-color: rgba(0, 200, 83, 0.1);
            border-left: 3px solid var(--success);
            padding: 10px;
            border-radius: 0 var(--element-radius) var(--element-radius) 0;
            margin-top: 10px;
        }

        .result-treatment p {
            font-size: 0.8rem;
            margin-bottom: 5px;
        }

        /* Profile Page */
        .profile-header {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 15px;
            box-shadow: var(--shadow);
        }

        .profile-name {
            font-size: 1.3rem;
            font-weight: 500;
            margin-bottom: 5px;
        }

        .profile-location {
            display: flex;
            align-items: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .profile-location i {
            margin-right: 5px;
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .profile-stat {
            background-color: var(--surface);
            border-radius: var(--element-radius);
            padding: 15px;
            text-align: center;
            box-shadow: var(--shadow);
        }

        .profile-stat-value {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .profile-stat-label {
            font-size: 0.7rem;
            color: var(--text-secondary);
        }

        .profile-section {
            background-color: var(--surface);
            border-radius: var(--card-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .profile-section-title {
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .profile-section-title i {
            margin-right: 10px;
            color: var(--primary);
        }

        .profile-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--divider);
        }

        .profile-item:last-child {
            border-bottom: none;
        }

        .profile-item-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .profile-item-value {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .dark-mode-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--primary);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        /* Animations */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        .float {
            animation: float 3s ease-in-out infinite;
        }

        /* Responsive Adjustments */
        @media (max-width: 400px) {
            .topic-cards {
                grid-template-columns: 1fr;
            }
            
            .quick-actions {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- App Container -->
    <div class="app-container">
        <!-- Header - Changes with page -->
        <header class="app-header" id="appHeader">
            <div class="header-title" id="headerTitle">AgriHub</div>
            <div class="header-actions">
                <i class="fas fa-search header-icon" id="searchBtn"></i>
                <i class="fas fa-bell header-icon" id="notifBtn"></i>
            </div>
        </header>

        <!-- Main Content Pages -->
        <main>
            <!-- Home Page -->
            <div class="page active" id="home">
                <div class="welcome-card">
                    <h2>Good Morning, David</h2>
                    <p>Your farm needs attention in 3 areas today</p>
                    <button class="upload-btn" style="align-self: flex-start;">View Tasks</button>
                </div>

                <div class="weather-widget">
                    <div class="weather-header">
                        <div class="weather-location">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Nairobi, Kenya</span>
                        </div>
                        <div class="weather-date">Today, June 15</div>
                    </div>
                    <div class="weather-current">
                        <div>
                            <div class="weather-temp">24°C</div>
                            <div>Partly Cloudy</div>
                        </div>
                        <i class="fas fa-cloud-sun weather-icon float"></i>
                    </div>
                    <div class="weather-details">
                        <div class="weather-detail">
                            <i class="fas fa-tint"></i>
                            <div class="weather-detail-value">65%</div>
                            <div class="weather-detail-label">Humidity</div>
                        </div>
                        <div class="weather-detail">
                            <i class="fas fa-wind"></i>
                            <div class="weather-detail-value">12 km/h</div>
                            <div class="weather-detail-label">Wind</div>
                        </div>
                        <div class="weather-detail">
                            <i class="fas fa-cloud-rain"></i>
                            <div class="weather-detail-value">20%</div>
                            <div class="weather-detail-label">Rain</div>
                        </div>
                    </div>
                </div>

                <div class="quick-actions">
                    <div class="quick-action" id="quickChat">
                        <i class="fas fa-comment-dots"></i>
                        <h3>Ask AgriBot</h3>
                        <p>Instant farming advice</p>
                    </div>
                    <div class="quick-action" id="quickDetect">
                        <i class="fas fa-camera"></i>
                        <h3>Detect Disease</h3>
                        <p>Scan crop issues</p>
                    </div>
                    <div class="quick-action" id="quickCommunity">
                        <i class="fas fa-users"></i>
                        <h3>Community</h3>
                        <p>Connect with farmers</p>
                    </div>
                    <div class="quick-action" id="quickMarket">
                        <i class="fas fa-shopping-basket"></i>
                        <h3>Market Prices</h3>
                        <p>Latest commodity rates</p>
                    </div>
                </div>

                <div class="crop-health">
                    <div class="section-header">
                        <h3 class="section-title">Crop Health</h3>
                        <a href="#" class="see-all">See All</a>
                    </div>
                    <div class="health-cards">
                        <div class="health-card">
                            <div class="health-card-image">
                                <img src="https://images.unsplash.com/photo-1594282416549-65cc3075533d?ixlib=rb-4.0.3" alt="Maize field">
                            </div>
                            <div class="health-card-status">
                                <div class="status-indicator healthy"></div>
                                <span>Healthy</span>
                            </div>
                            <h4 class="health-card-title">Maize Field A</h4>
                            <p class="health-card-desc">Last checked: Today</p>
                        </div>
                        <div class="health-card">
                            <div class="health-card-image">
                                <img src="https://images.unsplash.com/photo-1518977676601-b53f82aba655?ixlib=rb-4.0.3" alt="Tomato plants">
                            </div>
                            <div class="health-card-status">
                                <div class="status-indicator warning"></div>
                                <span>Needs Attention</span>
                            </div>
                            <h4 class="health-card-title">Tomatoes</h4>
                            <p class="health-card-desc">Possible blight</p>
                        </div>
                        <div class="health-card">
                            <div class="health-card-image">
                                <img src="https://images.unsplash.com/photo-1586771107445-d3ca888129ce?ixlib=rb-4.0.3" alt="Coffee plants">
                            </div>
                            <div class="health-card-status">
                                <div class="status-indicator danger"></div>
                                <span>Critical</span>
                            </div>
                            <h4 class="health-card-title">Coffee Plants</h4>
                            <p class="health-card-desc">Pest infestation</p>
                        </div>
                    </div>
                </div>

                <div class="crop-health">
                    <div class="section-header">
                        <h3 class="section-title">Today's Advisory</h3>
                        <a href="#" class="see-all">See All</a>
                    </div>
                    <div class="health-cards">
                        <div class="health-card">
                            <div class="health-card-image" style="background: linear-gradient(135deg, #00C853, #5EFC82); display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-tint" style="font-size: 2rem; color: white;"></i>
                            </div>
                            <h4 class="health-card-title">Irrigation</h4>
                            <p class="health-card-desc">Water maize field today</p>
                        </div>
                        <div class="health-card">
                            <div class="health-card-image" style="background: linear-gradient(135deg, #FFD600, #FFEA00); display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-spray-can" style="font-size: 2rem; color: white;"></i>
                            </div>
                            <h4 class="health-card-title">Fertilizer</h4>
                            <p class="health-card-desc">Apply CAN fertilizer</p>
                        </div>
                        <div class="health-card">
                            <div class="health-card-image" style="background: linear-gradient(135deg, #00B0FF, #40C4FF); display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-seedling" style="font-size: 2rem; color: white;"></i>
                            </div>
                            <h4 class="health-card-title">Planting</h4>
                            <p class="health-card-desc">Start bean planting</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Advisory Page -->
            <div class="page" id="advisory">
                <div class="advisory-tabs">
                    <div class="advisory-tab active" data-tab="topics">Topics</div>
                    <div class="advisory-tab" data-tab="ask">Ask Expert</div>
                    <div class="advisory-tab" data-tab="history">History</div>
                </div>

                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search farming topics...">
                </div>

                <h3 class="section-title">Popular Topics</h3>
                <div class="topic-cards">
                    <div class="topic-card" data-topic="pest-control">
                        <i class="fas fa-bug"></i>
                        <h3>Pest Control</h3>
                        <p>Identify and manage crop pests</p>
                    </div>
                    <div class="topic-card" data-topic="fertilization">
                        <i class="fas fa-flask"></i>
                        <h3>Fertilization</h3>
                        <p>Optimal fertilizer use</p>
                    </div>
                    <div class="topic-card" data-topic="irrigation">
                        <i class="fas fa-tint"></i>
                        <h3>Irrigation</h3>
                        <p>Water management guide</p>
                    </div>
                    <div class="topic-card" data-topic="harvesting">
                        <i class="fas fa-sickle"></i>
                        <h3>Harvesting</h3>
                        <p>Best practices and timing</p>
                    </div>
                </div>

                <h3 class="section-title" style="margin-top: 20px;">Seasonal Advice</h3>
                <div class="topic-cards">
                    <div class="topic-card" data-topic="rainy-season">
                        <i class="fas fa-cloud-rain"></i>
                        <h3>Rainy Season</h3>
                        <p>Preparing for long rains</p>
                    </div>
                    <div class="topic-card" data-topic="drought">
                        <i class="fas fa-sun"></i>
                        <h3>Drought Prep</h3>
                        <p>Water conservation tips</p>
                    </div>
                </div>
            </div>

            <!-- Chat Page -->
            <div class="page" id="chat">
                <div class="chat-container">
                    <div class="chat-header">
                        <i class="fas fa-arrow-left chat-back" id="chatBack"></i>
                        <div class="chat-partner">
                            <div class="chat-avatar">AB</div>
                            <div>
                                <div class="chat-name">AgriBot</div>
                                <div class="chat-status">Online</div>
                            </div>
                        </div>
                    </div>

                    <div class="chat-messages" id="chatMessages">
                        <div class="message received">
                            <div class="message-bubble">
                                Hello David! I'm your farming assistant. How can I help you today?
                                <div class="message-time">10:02 AM</div>
                            </div>
                        </div>
                        <div class="message sent">
                            <div class="message-bubble">
                                Hi! My maize leaves have yellow spots. What could be wrong?
                                <div class="message-time">10:03 AM</div>
                            </div>
                        </div>
                        <div class="message received">
                            <div class="message-bubble">
                                Yellow spots on maize could indicate several issues. The most common are:
                                1. Nitrogen deficiency (uniform yellowing)
                                2. Maize streak virus (streaky yellow patterns)
                                3. Rust fungus (small yellow spots turning brown)
                                Could you send a photo for more accurate diagnosis?
                                <div class="message-time">10:04 AM</div>
                            </div>
                        </div>
                        <div class="message sent">
                            <div class="message-bubble">
                                <img src="https://images.unsplash.com/photo-1592210454359-9043f067919b?ixlib=rb-4.0.3" style="width:100%; border-radius:10px; margin-bottom:5px;">
                                Here's a photo of the affected leaves
                                <div class="message-time">10:05 AM</div>
                            </div>
                        </div>
                        <div class="message received">
                            <div class="message-bubble">
                                Based on the photo, this appears to be Northern Corn Leaf Blight (fungal disease). Recommended treatment:
                                1. Apply fungicide containing chlorothalonil
                                2. Remove severely affected leaves
                                3. Improve air circulation
                                4. Avoid overhead irrigation
                                Would you like detailed treatment instructions?
                                <div class="message-time">10:07 AM</div>
                            </div>
                        </div>
                    </div>

                    <div class="chat-input-container">
                        <i class="fas fa-camera" style="margin-right:10px; color:var(--primary);"></i>
                        <textarea class="chat-input" placeholder="Type your message..." rows="1"></textarea>
                        <i class="fas fa-paper-plane chat-send" id="sendMessage"></i>
                    </div>

                    <div class="chat-options">
                        <div class="chat-option">
                            <i class="fas fa-robot"></i>
                            <span>Switch to Human Expert</span>
                        </div>
                        <div class="chat-option">
                            <i class="fas fa-ellipsis-h"></i>
                            <span>More Options</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Detection Page -->
            <div class="page" id="detection">
                <div class="detection-container">
                    <div class="upload-container">
                        <div class="upload-card">
                            <i class="fas fa-leaf upload-icon pulse"></i>
                            <h2 class="upload-title">Crop Health Scanner</h2>
                            <p class="upload-desc">Take or upload a photo of your crop to detect diseases, pests, and nutrient deficiencies with 95% accuracy</p>
                            <button class="upload-btn" id="uploadBtn">
                                <i class="fas fa-camera"></i> Take Photo
                            </button>
                            <input type="file" id="fileInput" accept="image/*" style="display:none;">
                        </div>

                        <div class="preview-container" id="previewContainer">
                            <img id="previewImage" class="preview-image" src="" alt="Preview">
                            <button class="upload-btn analyze-btn" id="analyzeBtn">
                                <i class="fas fa-search"></i> Analyze Image
                            </button>
                        </div>
                    </div>

                    <div class="result-container" id="resultContainer">
                        <div class="result-card">
                            <div class="result-header">
                                <i class="fas fa-diagnoses result-icon"></i>
                                <h3 class="result-title">Analysis Results</h3>
                            </div>

                            <div class="result-item">
                                <div class="result-label">CROP TYPE</div>
                                <div class="result-value">Maize (Zea mays)</div>
                            </div>

                            <div class="result-item">
                                <div class="result-label">DETECTED ISSUE</div>
                                <div class="result-value">Northern Corn Leaf Blight</div>
                            </div>

                            <div class="result-item">
                                <div class="result-label">CONFIDENCE LEVEL</div>
                                <div class="result-value">93% Accuracy</div>
                            </div>

                            <div class="result-item">
                                <div class="result-label">TREATMENT PLAN</div>
                                <div class="result-treatment">
                                    <p>1. Apply fungicide containing chlorothalonil or mancozeb</p>
                                    <p>2. Remove and destroy severely infected leaves</p>
                                    <p>3. Rotate crops next season (avoid continuous maize)</p>
                                    <p>4. Use resistant varieties in future plantings</p>
                                </div>
                            </div>

                            <button class="upload-btn" style="width:100%; margin-top:15px;">
                                <i class="fas fa-comment-medical"></i> Chat with Expert
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Profile Page -->
            <div class="page" id="profile">
                <div class="profile-header">
                    <div class="profile-avatar">DU</div>
                    <h2 class="profile-name">David Waweru</h3>
                    <div class="profile-location">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Nairobi, Kenya</span>
                    </div>
                </div>

                <div class="profile-stats">
                    <div class="profile-stat">
                        <div class="profile-stat-value">5</div>
                        <div class="profile-stat-label">Crops</div>
                    </div>
                    <div class="profile-stat">
                        <div class="profile-stat-value">12</div>
                        <div class="profile-stat-label">Acres</div>
                    </div>
                    <div class="profile-stat">
                        <div class="profile-stat-value">3</div>
                        <div class="profile-stat-label">Livestock</div>
                    </div>
                </div>

                <div class="profile-section">
                    <h3 class="profile-section-title"><i class="fas fa-user"></i> Personal Information</h3>
                    <div class="profile-item">
                        <span class="profile-item-label">Name</span>
                        <span class="profile-item-value">David Waweru</span>
                    </div>
                    <div class="profile-item">
                        <span class="profile-item-label">Location</span>
                        <span class="profile-item-value">Nairobi, Kenya</span>
                    </div>
                    <div class="profile-item">
                        <span class="profile-item-label">Phone</span>
                        <span class="profile-item-value">+254 712 345 678</span>
                    </div>
                    <div class="profile-item">
                        <span class="profile-item-label">Email</span>
                        <span class="profile-item-value">david@farm.co.ke</span>
                    </div>
                </div>

                <div class="profile-section">
                    <h3 class="profile-section-title"><i class="fas fa-tractor"></i> Farm Details</h3>
                    <div class="profile-item">
                        <span class="profile-item-label">Farm Size</span>
                        <span class="profile-item-value">12 Acres</span>
                    </div>
                    <div class="profile-item">
                        <span class="profile-item-label">Main Crops</span>
                        <span class="profile-item-value">Maize, Beans, Coffee</span>
                    </div>
                    <div class="profile-item">
                        <span class="profile-item-label">Livestock</span>
                        <span class="profile-item-value">Dairy Cattle, Poultry</span>
                    </div>
                    <div class="profile-item">
                        <span class="profile-item-label">Farming Method</span>
                        <span class="profile-item-value">Mixed Farming</span>
                    </div>
                </div>

                <div class="profile-section">
                    <h3 class="profile-section-title"><i class="fas fa-cog"></i> Settings</h3>
                    <div class="profile-item dark-mode-toggle">
                        <span class="profile-item-label">Dark Mode</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="darkModeToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="profile-item">
                        <span class="profile-item-label">Language</span>
                        <span class="profile-item-value">English</span>
                    </div>
                    <div class="profile-item">
                        <span class="profile-item-label">Notifications</span>
                        <span class="profile-item-value">Enabled</span>
                    </div>
                    <div class="profile-item">
                        <span class="profile-item-label">App Version</span>
                        <span class="profile-item-value">2.4.1</span>
                    </div>
                </div>

                <button class="upload-btn" style="width:100%; margin-top:20px; background-color:var(--error);">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="#home" class="nav-item active" data-page="home">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="#advisory" class="nav-item" data-page="advisory">
                <i class="fas fa-book"></i>
                <span>Advisory</span>
            </a>
            <a href="#chat" class="nav-item" data-page="chat">
                <i class="fas fa-comment-dots"></i>
                <span>Chat</span>
                <div class="nav-item-badge">3</div>
            </a>
            <a href="#detection" class="nav-item" data-page="detection">
                <i class="fas fa-camera"></i>
                <span>Detection</span>
            </a>
            <a href="#profile" class="nav-item" data-page="profile">
                <i class="fas fa-user"></i>
                <span>Profile</span>
            </a>
        </nav>
    </div>
    
    <script src="/agri.js"></script>

    <script>
        // Update time in status bar
        function updateTime() {
            const now = new Date();
            let hours = now.getHours();
            let minutes = now.getMinutes();
            const ampm = hours >= 12 ? 'PM' : 'AM';
            
            hours = hours % 12;
            hours = hours ? hours : 12;
            minutes = minutes < 10 ? '0' + minutes : minutes;
            
            document.getElementById('time').textContent = `${hours}:${minutes} ${ampm}`;
        }
        
        setInterval(updateTime, 1000);
        updateTime();

        // Page Navigation System
        const navItems = document.querySelectorAll('.nav-item');
        const pages = document.querySelectorAll('.page');
        
        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Update active nav item
                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');
                
                // Show selected page
                const pageId = this.getAttribute('data-page');
                pages.forEach(page => page.classList.remove('active'));
                document.getElementById(pageId).classList.add('active');
                
                // Update header title
                document.getElementById('headerTitle').textContent = 
                    this.querySelector('span').textContent;
                
                // Scroll to top
                window.scrollTo(0, 0);
            });
        });

        // Quick Actions
        document.getElementById('quickChat').addEventListener('click', function() {
            navItems.forEach(nav => nav.classList.remove('active'));
            document.querySelector('.nav-item[data-page="chat"]').classList.add('active');
            
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById('chat').classList.add('active');
            
            document.getElementById('headerTitle').textContent = 'Chat';
            window.scrollTo(0, 0);
        });
        
        document.getElementById('quickDetect').addEventListener('click', function() {
            navItems.forEach(nav => nav.classList.remove('active'));
            document.querySelector('.nav-item[data-page="detection"]').classList.add('active');
            
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById('detection').classList.add('active');
            
            document.getElementById('headerTitle').textContent = 'Detection';
            window.scrollTo(0, 0);
        });
        
        document.getElementById('quickCommunity').addEventListener('click', function() {
            // In a real app, this would navigate to community section
            alert('Community feature coming soon!');
        });

        // Chat Back Button
        document.getElementById('chatBack').addEventListener('click', function() {
            navItems.forEach(nav => nav.classList.remove('active'));
            document.querySelector('.nav-item[data-page="home"]').classList.add('active');
            
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById('home').classList.add('active');
            
            document.getElementById('headerTitle').textContent = 'AgriHub';
            window.scrollTo(0, 0);
        });

        // Image Upload and Analysis
        const uploadBtn = document.getElementById('uploadBtn');
        const fileInput = document.getElementById('fileInput');
        const previewContainer = document.getElementById('previewContainer');
        const previewImage = document.getElementById('previewImage');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const resultContainer = document.getElementById('resultContainer');
        
        uploadBtn.addEventListener('click', function() {
            fileInput.click();
        });
        
        fileInput.addEventListener('change', function(e) {
            if (e.target.files.length > 0) {
                const file = e.target.files[0];
                const reader = new FileReader();
                
                reader.onload = function(event) {
                    previewImage.src = event.target.result;
                    previewContainer.style.display = 'block';
                    analyzeBtn.disabled = false;
                };
                
                reader.readAsDataURL(file);
            }
        });
        
        analyzeBtn.addEventListener('click', function() {
            // Show loading state
            analyzeBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Analyzing...';
            analyzeBtn.disabled = true;
            
            // Simulate analysis delay
            setTimeout(function() {
                previewContainer.style.display = 'none';
                resultContainer.style.display = 'block';
                
                // Scroll to results
                resultContainer.scrollIntoView({ behavior: 'smooth' });
                
                // Reset analyze button
                analyzeBtn.innerHTML = '<i class="fas fa-search"></i> Analyze Image';
                analyzeBtn.disabled = false;
            }, 2000);
        });

        // Chat Message System
        const chatInput = document.querySelector('.chat-input');
        const sendMessageBtn = document.getElementById('sendMessage');
        const chatMessages = document.getElementById('chatMessages');
        
        sendMessageBtn.addEventListener('click', function() {
            const message = chatInput.value.trim();
            if (message) {
                // Add user message
                addMessage(message, 'sent');
                chatInput.value = '';
                
                // Simulate AI response after delay
                setTimeout(function() {
                    const responses = [
                        "I understand your concern about that farming issue. Based on my knowledge, here are some recommendations...",
                        "That's an interesting question! Many farmers face similar challenges. The best approach would be...",
                        "Thanks for sharing those details. For your specific situation, I would suggest...",
                        "Based on the information you've provided, here's what I recommend..."
                    ];
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    addMessage(randomResponse, 'received');
                }, 1000);
            }
        });
        
        function addMessage(text, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            
            const now = new Date();
            const timeString = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            messageDiv.innerHTML = `
                <div class="message-bubble">
                    ${text}
                    <div class="message-time">${timeString}</div>
                </div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Allow Enter key to send message (but Shift+Enter for new line)
        chatInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessageBtn.click();
            }
        });

        // Dark Mode Toggle
        const darkModeToggle = document.getElementById('darkModeToggle');
        
        darkModeToggle.addEventListener('change', function() {
            // In a real app, this would toggle between color schemes
            alert('Dark mode preference saved! (Full implementation would require CSS variable updates)');
        });

        // Advisory Tabs
        const advisoryTabs = document.querySelectorAll('.advisory-tab');
        
        advisoryTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                advisoryTabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                
                // In a real app, this would load different content
                console.log(`Switched to ${this.textContent} tab`);
            });
        });

        // Topic Cards
        const topicCards = document.querySelectorAll('.topic-card');
        
        topicCards.forEach(card => {
            card.addEventListener('click', function() {
                const topic = this.getAttribute('data-topic');
                
                // In a real app, this would show topic details
                alert(`Loading information about ${topic.replace('-', ' ')}`);
            });
        });

        // Simulate weather data changes
        function updateWeatherData() {
            const tempElement = document.querySelector('.weather-temp');
            const currentTemp = parseInt(tempElement.textContent);
            const newTemp = currentTemp + (Math.random() > 0.5 ? 1 : -1);
            
            if (newTemp >= 22 && newTemp <= 28) {
                tempElement.textContent = `${newTemp}°C`;
            }
            
            // Randomly change weather icon
            const icons = ['sun', 'cloud', 'cloud-sun', 'cloud-rain'];
            const randomIcon = icons[Math.floor(Math.random() * icons.length)];
            document.querySelector('.weather-icon').className = `fas fa-${randomIcon} weather-icon float`;
        }
        
        setInterval(updateWeatherData, 30000);
    </script>
</body>
</html>